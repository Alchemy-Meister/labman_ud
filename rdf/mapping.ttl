@prefix map: <#> .
@prefix db: <> .
@prefix vocab: <vocab/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix d2rq: <http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#> .
@prefix jdbc: <http://d2rq.org/terms/jdbc/> .

@prefix bibo: <http://purl.org/ontology/bibo/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix swrc: <http://ontoware.org/swrc/swrc/SWRCOWL/swrc_updated_v0.7.1.owl#> .
@prefix muto: <http://purl.org/muto/core#> .
@prefix places: <http://purl.org/ontology/places#> .

@prefix swrcfe: <http://www.morelab.deusto.es/ontologies/swrcfe.owl#> .

@prefix d2r: <http://sites.wiwiss.fu-berlin.de/suhl/bizer/d2r-server/config.rdf#> .
@prefix meta: <http://www4.wiwiss.fu-berlin.de/bizer/d2r-server/metadata#> .


<> a d2r:Server;
    d2r:limitPerClassMap false;
    rdfs:label "labman d2r server";
    d2r:baseURI <http://www.morelab.deusto.es/labman/>;
    d2r:port 2020;
    d2r:vocabularyIncludeInstances true;
    d2r:autoReloadMapping false;
    d2r:sparqlTimeout 300;
    d2r:pageTimeout 5;

    .

map:database a d2rq:Database;
    d2rq:jdbcDriver "org.postgresql.Driver";
    d2rq:jdbcDSN "jdbc:postgresql://localhost:5432/labman";
    d2rq:username "labman";
    d2rq:password "0l3ntz3r0";
    .

###########################################################################

# Table events_event
map:Event a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "event/@@events_event.slug@@";
    d2rq:class swrcfe:Event;
    d2rq:classDefinitionLabel "events_event";
    .
map:Event__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property rdfs:label;
    d2rq:column "events_event.full_name";
    .
map:Event_short_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property dc:identifier;
    d2rq:column "events_event.short_name";
    .
map:Event_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property dc:title;
    d2rq:column "events_event.full_name";
    .
map:Event_location a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:eventLocation;
    d2rq:column "events_event.location";
    .
map:Event_host_city a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:hostCity;
    d2rq:column "events_event.host_city";
    .
map:Event_start_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:eventStartDate;
    d2rq:column "events_event.start_date";
    d2rq:datatype xsd:date;
    .
map:Event_end_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:eventEndDate;
    d2rq:column "events_event.end_date";
    d2rq:datatype xsd:date;
    .
map:Event_year a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:year;
    d2rq:column "events_event.year";
    d2rq:datatype xsd:gYear;
    .
map:Event_homepage a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property foaf:homepage;
    d2rq:column "events_event.homepage";
    .
map:Event_description a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property dc:description;
    d2rq:column "events_event.description";
    .
map:Event_logo a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property foaf:depiction;
    d2rq:column "events_event.logo";
    .
map:Event_proceedings_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:hasProceedings;
    d2rq:refersToClassMap map:Publication;
    d2rq:join "events_event.proceedings_id => publications_publication.id";
    .
map:Event_event_type_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property swrcfe:eventType;
    d2rq:join "events_event.event_type_id => events_eventtype.id";
    d2rq:column "events_eventtype.name";
    .
map:Event_host_country_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Event;
    d2rq:property places:hostCountry;
    d2rq:refersToClassMap map:Country;
    d2rq:join "events_event.host_country_id => utils_country.id";
    .

###########################################################################

# Table events_viva
#map:Viva a d2rq:ClassMap;
#    d2rq:dataStorage map:database;
#    d2rq:uriPattern "events_viva/@@events_viva.id@@";
#    d2rq:class vocab:events_viva;
#    d2rq:classDefinitionLabel "events_viva";
#    .
#map:Viva__label a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Viva;
#    d2rq:property rdfs:label;
#    d2rq:pattern "events_viva #@@events_viva.id@@";
#    .
#map:Viva_date a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Viva;
#    d2rq:property vocab:events_viva_date;
#    d2rq:propertyDefinitionLabel "events_viva date";
#    d2rq:column "events_viva.date";
#    d2rq:datatype xsd:date;
#    .
#map:Viva_result a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Viva;
#    d2rq:property vocab:events_viva_result;
#    d2rq:propertyDefinitionLabel "events_viva result";
#    d2rq:column "events_viva.result";
#    .
#map:Viva_panel_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Viva;
#    d2rq:property vocab:events_viva_panel_id;
#    d2rq:refersToClassMap map:VivaPanel;
#    d2rq:join "events_viva.panel_id => events_vivapanel.id";
#    .
#map:Viva_held_at_university_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Viva;
#    d2rq:property vocab:events_viva_held_at_university_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_viva.held_at_university_id => organizations_organization.id";
#    .

###########################################################################

# Table events_vivapanel
#map:VivaPanel a d2rq:ClassMap;
#    d2rq:dataStorage map:database;
#    d2rq:uriPattern "events_vivapanel/@@events_vivapanel.id@@";
#    d2rq:class vocab:events_vivapanel;
#    d2rq:classDefinitionLabel "events_vivapanel";
#    .
#map:VivaPanel__label a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property rdfs:label;
#    d2rq:pattern "events_vivapanel #@@events_vivapanel.id@@";
#    .
#map:VivaPanel_chair_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_chair_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "events_vivapanel.chair_id => persons_person.id";
#    .
#map:VivaPanel_first_co_chair_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_first_co_chair_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "events_vivapanel.first_co_chair_id => persons_person.id";
#    .
#map:VivaPanel_secretarys_organization_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_secretarys_organization_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_vivapanel.secretarys_organization_id => organizations_organization.id";
#    .
#map:VivaPanel_chairs_organization_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_chairs_organization_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_vivapanel.chairs_organization_id => organizations_organization.id";
#    .
#map:VivaPanel_first_co_chairs_organization_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_first_co_chairs_organization_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_vivapanel.first_co_chairs_organization_id => organizations_organization.id";
#    .
#map:VivaPanel_second_co_chair_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_second_co_chair_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "events_vivapanel.second_co_chair_id => persons_person.id";
#    .
#map:VivaPanel_second_co_chairs_organization_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_second_co_chairs_organization_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_vivapanel.second_co_chairs_organization_id => organizations_organization.id";
#    .
#map:VivaPanel_third_co_chairs_organization_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_third_co_chairs_organization_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "events_vivapanel.third_co_chairs_organization_id => organizations_organization.id";
#    .
#map:VivaPanel_secretary_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_secretary_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "events_vivapanel.secretary_id => persons_person.id";
#    .
#map:VivaPanel_third_co_chair_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:VivaPanel;
#    d2rq:property vocab:events_vivapanel_third_co_chair_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "events_vivapanel.third_co_chair_id => persons_person.id";
#    .

###########################################################################

# Table funding_programs_fundingprogram
map:FundingProgram a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "funding_programs/@@funding_programs_fundingprogram.slug@@";
    d2rq:class swrcfe:FundingProgram;
    d2rq:classDefinitionLabel "funding_programs_fundingprogram";
    .
map:FundingProgram__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property rdfs:label;
    d2rq:column "funding_programs_fundingprogram.full_name";
    .
map:FundingProgram_short_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property dc:identifier;
    d2rq:column "funding_programs_fundingprogram.short_name";
    .
map:FundingProgram_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property dc:title;
    d2rq:column "funding_programs_fundingprogram.full_name";
    .
map:FundingProgram_logo__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property foaf:depiction;
    d2rq:join "funding_programs_fundingprogramlogo.funding_program_id => funding_programs_fundingprogram.id";
    d2rq:uriPattern "http://www.morelab.deusto.es/labman/media/@@funding_programs_fundingprogramlogo.logo@@"
    .
map:FundingProgram_geographical_scope_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property swrcfe:geographicalScope;
    d2rq:refersToClassMap map:GeographicalScope;
    d2rq:join "funding_programs_fundingprogram.geographical_scope_id => utils_geographicalscope.id";
    .
map:FundingProgram_organization_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingProgram;
    d2rq:property swrcfe:supportedBy;
    d2rq:refersToClassMap map:Organization;
    d2rq:join "funding_programs_fundingprogram.organization_id => organizations_organization.id";
    .

###########################################################################

# Table organizations_organization
map:Organization a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "organizations/@@organizations_organization.slug@@";
    d2rq:class swrcfe:Organization;
    d2rq:classDefinitionLabel "organizations_organization";
    .
map:Organization__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property rdfs:label;
    d2rq:column "organizations_organization.full_name";
    .
map:Organization_short_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property dc:identifier;
    d2rq:column "organizations_organization.short_name";
    .
map:Organization_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property dc:title;
    d2rq:column "organizations_organization.full_name";
    .
map:Organization_homepage a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property foaf:homepage;
    d2rq:uriColumn "organizations_organization.homepage";
    .
map:Organization_logo a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property foaf:depiction;
    d2rq:uriColumn "organizations_organization.logo";
    .
map:Organization_organization_type_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property swrcfe:organizationType;
    d2rq:join "organizations_organization.organization_type_id => organizations_organizationtype.id";
    d2rq:column "organizations_organizationtype.name";
    .
map:Organization_sub_organization_of_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property dcterms:isPartOf;
    d2rq:refersToClassMap map:Organization;
    d2rq:alias "organizations_organization AS organizations_organization__alias";
    d2rq:join "organizations_organization.sub_organization_of_id => organizations_organization__alias.id";
    .
map:Organization_country_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Organization;
    d2rq:property foaf:based_near;
    d2rq:refersToClassMap map:Country;
    d2rq:join "organizations_organization.country_id => utils_country.id";
    .

###########################################################################

# Table persons_accountprofile
map:AccountProfile a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "account_profile/@@persons_accountprofile.id@@";
    d2rq:class swrcfe:AccountProfile;
    d2rq:classDefinitionLabel "persons_accountprofile";
    .
map:AccountProfile__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AccountProfile;
    d2rq:property rdfs:label;
    d2rq:join "persons_accountprofile.person_id => persons_person.id";
    d2rq:join "persons_accountprofile.network_id => utils_network.id";
    d2rq:pattern "@@persons_person.full_name@@'s account in @@utils_network.name@@";
    .
map:AccountProfile_profile_id a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AccountProfile;
    d2rq:property swrcfe:profileId;
    d2rq:column "persons_accountprofile.profile_id";
    .
map:AccountProfile_network_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AccountProfile;
    d2rq:property swrcfe:network;
    d2rq:refersToClassMap map:Network;
    d2rq:join "persons_accountprofile.network_id => utils_network.id";
    .
map:AccountProfile_person_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AccountProfile;
    d2rq:property swrcfe:heldBy;
    d2rq:refersToClassMap map:Person;
    d2rq:join "persons_accountprofile.person_id => persons_person.id";
    .

###########################################################################

# Table persons_job
map:Job a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "persons_job/@@persons_job.id@@";
    d2rq:class swrcfe:Job;
    d2rq:classDefinitionLabel "persons_job";
    .
map:Job__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property rdfs:label;
    d2rq:join "persons_job.person_id => persons_person.id";
    d2rq:join "persons_job.organization_id => organizations_organization.id";
    d2rq:pattern "@@persons_person.full_name@@'s job as @@persons_job.position@@ at @@organizations_organization.short_name@@";
    .
map:Job_position a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property swrcfe:position;
    d2rq:column "persons_job.position";
    .
map:Job_description a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property dc:description;
    d2rq:column "persons_job.description";
    .
map:Job_start_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property swrcfe:jobStartDate;
    d2rq:column "persons_job.start_date";
    d2rq:datatype xsd:date;
    .
map:Job_end_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property swrcfe:jobEndDate;
    d2rq:column "persons_job.end_date";
    d2rq:datatype xsd:date;
    .
map:Job_organization_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property swrcfe:carriedOutIn;
    d2rq:refersToClassMap map:Organization;
    d2rq:join "persons_job.organization_id => organizations_organization.id";
    .
map:Job_person_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Job;
    d2rq:property swrcfe:doneBy;
    d2rq:refersToClassMap map:Person;
    d2rq:join "persons_job.person_id => persons_person.id";
    .

###########################################################################

# Table Person
map:Person a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "persons/@@persons_person.slug@@";
    d2rq:class foaf:Person;
    d2rq:classDefinitionLabel "persons_person";
    .
map:Person__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property rdfs:label;
    d2rq:column "persons_person.full_name";
    .
map:Person_first_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:firstName;
    d2rq:column "persons_person.first_name";
    .
map:Person_family_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:familyName;
    d2rq:pattern "@@persons_person.first_surname@@ @@persons_person.second_surname@@";
    .
map:Person_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:name;
    d2rq:column "persons_person.full_name";
    .
map:Person_biography a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property dc:description;
    d2rq:column "persons_person.safe_biography";
    .
map:Person_title a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:title;
    d2rq:column "persons_person.title";
    .
map:Person_gender a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:gender;
    d2rq:column "persons_person.gender";
    .
map:Person_personal_website a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:homepage;
    d2rq:uriColumn "persons_person.personal_website";
    .
map:Person_email a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:mbox;
    d2rq:column "persons_person.email";
    .
map:Person_phone_number a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:phone;
    d2rq:propertyDefinitionLabel "persons_person phone_number";
    d2rq:pattern "@@persons_person.phone_number@@ - ext: @@persons_person.phone_extension@@";
    .
map:Person_is_active a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property swrcfe:member;
    d2rq:column "persons_person.is_active";
    d2rq:valueRegex "^[01]*$";
    .
map:Person_profile_picture a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property foaf:depiction;
    d2rq:uriPattern "http://www.morelab.deusto.es/labman/media/@@persons_person.profile_picture@@";
    .
map:Person_person__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Person;
    d2rq:property dc:creator;
    d2rq:join "publications_publicationauthor.publication_id => publications_publication.id";
    d2rq:join "publications_publicationauthor.author_id => persons_person.id";
    d2rq:refersToClassMap map:Publication;
    .

###########################################################################

# Table projects_assignedperson
map:AssignedPerson a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "assigned_person/@@projects_assignedperson.id@@";
    d2rq:class swrcfe:AssignedPerson;
    d2rq:classDefinitionLabel "projects_assignedperson";
    .
map:AssignedPerson__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property rdfs:label;
    d2rq:join "projects_assignedperson.project_id => projects_project.id";
    d2rq:join "projects_assignedperson.person_id => persons_person.id";
    d2rq:pattern "@@persons_person.full_name@@ working in @@projects_project.short_name@@";
    .
map:AssignedPerson_start_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property swrcfe:workStartDate;
    d2rq:column "projects_assignedperson.start_date";
    d2rq:datatype xsd:date;
    .
map:AssignedPerson_end_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property swrcfe:workEndDate;
    d2rq:column "projects_assignedperson.end_date";
    d2rq:datatype xsd:date;
    .
map:AssignedPerson_description a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property dc:description;
    d2rq:column "projects_assignedperson.description";
    .
map:AssignedPerson_person_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property swrcfe:assignedPerson;
    d2rq:refersToClassMap map:Person;
    d2rq:join "projects_assignedperson.person_id => persons_person.id";
    .
map:AssignedPerson_role_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property swrcfe:role;
    d2rq:join "projects_assignedperson.role_id => utils_role.id";
    d2rq:column "utils_role.name"
    .
map:AssignedPerson_project_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:AssignedPerson;
    d2rq:property swrcfe:project;
    d2rq:refersToClassMap map:Project;
    d2rq:join "projects_assignedperson.project_id => projects_project.id";
    .

###########################################################################

# Table projects_funding
map:Funding a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "funding/@@projects_funding.project_code@@";
    d2rq:class swrcfe:Funding;
    d2rq:classDefinitionLabel "projects_funding";
    .
map:Funding__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Funding;
    d2rq:property rdfs:label;
    d2rq:join "projects_funding.project_id => projects_project.id";
    d2rq:join "projects_funding.funding_program_id => funding_programs_fundingprogram.id";
    d2rq:pattern "Funding for @@projects_project.short_name@@ by @@funding_programs_fundingprogram.short_name@@";
    .
map:Funding_project_code a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Funding;
    d2rq:property swrcfe:projectCode;
    d2rq:column "projects_funding.project_code";
    .
map:Funding_total_funds a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Funding;
    d2rq:property swrcfe:totalFunds;
    d2rq:column "projects_funding.total_funds";
    d2rq:datatype xsd:decimal;
    .
map:Funding_funding_program_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Funding;
    d2rq:property swrcfe:fundingProgram;
    d2rq:refersToClassMap map:FundingProgram;
    d2rq:join "projects_funding.funding_program_id => funding_programs_fundingprogram.id";
    .
map:Funding_project_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Funding;
    d2rq:property swrcfe:funds;
    d2rq:refersToClassMap map:Project;
    d2rq:join "projects_funding.project_id => projects_project.id";
    .

###########################################################################

# Table projects_fundingamount
map:FundingAmount a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "funding_amount/@@projects_fundingamount.id@@";
    d2rq:class swrcfe:FundingAmount;
    d2rq:classDefinitionLabel "projects_fundingamount";
    .
map:FundingAmount__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingAmount;
    d2rq:property rdfs:label;
    d2rq:join "projects_fundingamount.funding_id => projects_funding.id";
    d2rq:join "projects_funding.project_id => projects_project.id";
    d2rq:pattern "Funding for @@projects_project.short_name@@ in @@projects_fundingamount.year@@";
    .
map:FundingAmount_own_amount a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingAmount;
    d2rq:property swrcfe:ownAmount;
    d2rq:column "projects_fundingamount.own_amount";
    d2rq:datatype xsd:decimal;
    .
map:FundingAmount_year a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingAmount;
    d2rq:property swrcfe:fundedYear;
    d2rq:column "projects_fundingamount.year";
    d2rq:datatype xsd:gYear;
    .
map:FundingAmount_funding_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:FundingAmount;
    d2rq:property dcterms:isPartOf;
    d2rq:refersToClassMap map:Funding;
    d2rq:join "projects_fundingamount.funding_id => projects_funding.id";
    .

###########################################################################

# Table projects_project
map:Project a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "projects/@@projects_project.slug@@";
    d2rq:class swrc:Project;
    d2rq:classDefinitionLabel "projects_project";
    .
map:Project__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property rdfs:label;
    d2rq:pattern "@@projects_project.full_name@@";
    .
map:Project_short_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property dc:identifier;
    d2rq:column "projects_project.short_name";
    .
map:Project_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property dc:title;
    d2rq:column "projects_project.full_name";
    .
map:Project_description a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property dc:description;
    d2rq:column "projects_project.description";
    .
map:Project_homepage a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property foaf:homepage;
    d2rq:uriColumn "projects_project.homepage";
    .
map:Project_start_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrc:startDate;
    d2rq:pattern "@@projects_project.start_year@@-@@projects_project.start_month@@";
    d2rq:datatype xsd:gYearMonth;
    .
map:Project_end_date a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrc:endDate;
    d2rq:pattern "@@projects_project.end_year@@-@@projects_project.end_month@@";
    d2rq:datatype xsd:gYearMonth;
    .
map:Project_status a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrc:status;
    d2rq:column "projects_project.status";
    .
map:Project_logo a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property foaf:depiction;
    d2rq:uriColumn "projects_project.logo";
    .
map:Project_project_leader_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrcfe:projectLeader;
    d2rq:refersToClassMap map:Organization;
    d2rq:join "projects_project.project_leader_id => organizations_organization.id";
    .
map:Project_consortium_member__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrc:carriedOutBy;
    d2rq:refersToClassMap map:Organization;
    d2rq:join "projects_project.id => projects_consortiummember.project_id";
    d2rq:join "projects_consortiummember.organization_id => organizations_organization.id";
    .
map:Project_tag__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property dc:subject;
    d2rq:join "projects_projecttag.project_id => projects_project.id";
    d2rq:join "projects_projecttag.tag_id => utils_tag.id";
    d2rq:column "utils_tag.name";
    .
map:Project_project_type__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrcfe:projectType;
    d2rq:join "projects_project.project_type_id => projects_projecttype.id";
    d2rq:column "projects_projecttype.name";
    .
map:Project_related_publication__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Project;
    d2rq:property swrcfe:relatedPublication;
    d2rq:join "projects_relatedpublication.publication_id => publications_publication.id";
    d2rq:join "projects_relatedpublication.project_id => projects_project.id";
    d2rq:refersToClassMap map:Publication;
    .

###########################################################################

# Table publications_publication
map:Publication a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "publications/@@publications_publication.slug@@";
    d2rq:class swrcfe:Publication;
    d2rq:classDefinitionLabel "publications_publication";
    .
map:Publication__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property rdfs:label;
    d2rq:column "publications_publication.title";
    .
map:Publication_title a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dc:title;
    d2rq:column "publications_publication.title";
    .
map:Publication_short_title a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:publicationShortTitle;
    d2rq:column "publications_publication.short_title";
    .
map:Publication_abstract a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:abstract;
    d2rq:column "publications_publication.abstract";
    .
map:Publication_doi a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:doi;
    d2rq:column "publications_publication.doi";
    .
map:Publication_pdf a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property rdfs:seeAlso;
    d2rq:uriPattern "http://www.morelab.deusto.es/labman/media/@@publications_publication.pdf@@";
    .
map:Publication_journal_abbreviation a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:journalAbbreviation;
    d2rq:column "publications_publication.journal_abbreviation";
    .
map:Publication_published a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dc:date;
    d2rq:column "publications_publication.published";
    d2rq:datatype xsd:date;
    .
map:Publication_year a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:publicationYear;
    d2rq:column "publications_publication.year";
    d2rq:datatype xsd:gYear;
    .
map:Publication_volume a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:volume;
    d2rq:column "publications_publication.volume";
    d2rq:datatype xsd:integer;
    .
map:Publication_pages a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:pages;
    d2rq:column "publications_publication.pages";
    .
map:Publication_issn a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:issn;
    d2rq:column "publications_publication.issn";
    .
map:Publication_isbn a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:isbn;
    d2rq:column "publications_publication.isbn";
    .
map:Publication_impact_factor a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:impactFactor;
    d2rq:column "publications_publication.impact_factor";
    d2rq:datatype xsd:decimal;
    .
map:Publication_series_number a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:seriesNumber;
    d2rq:column "publications_publication.series_number";
    d2rq:datatype xsd:integer;
    .
map:Publication_series a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:series;
    d2rq:column "publications_publication.series";
    .
map:Publication_edition a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:edition;
    d2rq:column "publications_publication.edition";
    .
map:Publication_book_title a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:bookTitle;
    d2rq:column "publications_publication.book_title";
    .
map:Publication_publisher a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dcterms:publisher;
    d2rq:column "publications_publication.publisher";
    .
map:Publication_issue a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:issue;
    d2rq:column "publications_publication.issue";
    .
map:Publication_series_text a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:seriesText;
    d2rq:column "publications_publication.series_text";
    .
map:Publication_bibtex a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:bibtex;
    d2rq:column "publications_publication.bibtex";
    .
map:Publication_language_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dc:language;
    d2rq:refersToClassMap map:Language;
    d2rq:join "publications_publication.language_id => utils_language.id";
    .
map:Publication_publication_type_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:publicationType;
    d2rq:join "publications_publication.publication_type_id => publications_publicationtype.id";
    d2rq:column "publications_publicationtype.name";
    .
map:Publication_presented_at_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property bibo:presentedAt;
    d2rq:refersToClassMap map:Event;
    d2rq:join "publications_publication.presented_at_id => events_event.id";
    .
map:Publication_university_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property swrcfe:university;
    d2rq:refersToClassMap map:Organization;
    d2rq:join "publications_publication.university_id => organizations_organization.id";
    .
map:Publication_part_of_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dcterms:isPartOf;
    d2rq:refersToClassMap map:Publication;
    d2rq:alias "publications_publication AS publications_publication__alias";
    d2rq:join "publications_publication.part_of_id => publications_publication__alias.id";
    .
map:Publication_tag__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dc:subject;
    d2rq:join "publications_publicationtag.publication_id => publications_publication.id";
    d2rq:join "publications_publicationtag.tag_id => utils_tag.id";
    d2rq:column "utils_tag.name";
    .
map:Publication_author__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Publication;
    d2rq:property dc:creator;
    d2rq:join "publications_publicationauthor.publication_id => publications_publication.id";
    d2rq:join "publications_publicationauthor.author_id => persons_person.id";
    d2rq:column "persons_person.full_name";
    .

###########################################################################

# Table publications_publicationauthor
map:PublicationAuthor a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "publication_author/@@publications_publicationauthor.id@@";
    d2rq:class swrcfe:PublicationAuthor;
    d2rq:classDefinitionLabel "publications_publicationauthor";
    .
map:PublicationAuthor__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:PublicationAuthor;
    d2rq:property rdfs:label;
    d2rq:join "publications_publicationauthor.publication_id => publications_publication.id";
    d2rq:pattern "Author #@@publications_publicationauthor.position@@ of @@publications_publication.title@@";
    .
map:PublicationAuthor_position a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:PublicationAuthor;
    d2rq:property swrcfe:authorPosition;
    d2rq:column "publications_publicationauthor.position";
    d2rq:datatype xsd:integer;
    .
map:PublicationAuthor_author_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:PublicationAuthor;
    d2rq:property dc:creator;
    d2rq:refersToClassMap map:Person;
    d2rq:join "publications_publicationauthor.author_id => persons_person.id";
    .
map:PublicationAuthor_publication_id__ref a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:PublicationAuthor;
    d2rq:property swrcfe:createdPublication;
    d2rq:refersToClassMap map:Publication;
    d2rq:join "publications_publicationauthor.publication_id => publications_publication.id";
    .

###########################################################################

# Table publications_thesis
#map:Thesis a d2rq:ClassMap;
#    d2rq:dataStorage map:database;
#    d2rq:uriPattern "publications_thesis/@@publications_thesis.id@@";
#    d2rq:class vocab:publications_thesis;
#    d2rq:classDefinitionLabel "publications_thesis";
#    .
#map:Thesis__label a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property rdfs:label;
#    d2rq:pattern "publications_thesis #@@publications_thesis.id@@";
#    .
#map:Thesis_id a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_id;
#    d2rq:propertyDefinitionLabel "publications_thesis id";
#    d2rq:column "publications_thesis.id";
#    d2rq:datatype xsd:integer;
#    .
#map:Thesis_title a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_title;
#    d2rq:propertyDefinitionLabel "publications_thesis title";
#    d2rq:column "publications_thesis.title";
#    .
#map:Thesis_slug a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_slug;
#    d2rq:propertyDefinitionLabel "publications_thesis slug";
#    d2rq:column "publications_thesis.slug";
#    .
#map:Thesis_registration_date a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_registration_date;
#    d2rq:propertyDefinitionLabel "publications_thesis registration_date";
#    d2rq:column "publications_thesis.registration_date";
#    d2rq:datatype xsd:date;
#    .
#map:Thesis_year a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_year;
#    d2rq:propertyDefinitionLabel "publications_thesis year";
#    d2rq:column "publications_thesis.year";
#    d2rq:datatype xsd:integer;
#    .
#map:Thesis_pdf a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_pdf;
#    d2rq:propertyDefinitionLabel "publications_thesis pdf";
#    d2rq:column "publications_thesis.pdf";
#    .
#map:Thesis_viva_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_viva_id;
#    d2rq:refersToClassMap map:Viva;
#    d2rq:join "publications_thesis.viva_id => events_viva.id";
#    .
#map:Thesis_main_language_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_main_language_id;
#    d2rq:refersToClassMap map:Language;
#    d2rq:join "publications_thesis.main_language_id => utils_language.id";
#    .
#map:Thesis_advisor_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_advisor_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "publications_thesis.advisor_id => persons_person.id";
#    .
#map:Thesis_phd_program_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_phd_program_id;
#    d2rq:refersToClassMap map:PhDProgram;
#    d2rq:join "publications_thesis.phd_program_id => utils_phdprogram.id";
#    .
#map:Thesis_author_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:Thesis;
#    d2rq:property vocab:publications_thesis_author_id;
#    d2rq:refersToClassMap map:Person;
#    d2rq:join "publications_thesis.author_id => persons_person.id";
#    .

###########################################################################

# Table utils_country
map:Country a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "country/@@utils_country.slug@@";
    d2rq:class places:Country;
    d2rq:classDefinitionLabel "utils_country";
    .
map:Country__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Country;
    d2rq:property rdfs:label;
    d2rq:column "utils_country.full_name";
    .
map:Country_short_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Country;
    d2rq:property dc:identifier;
    d2rq:column "utils_country.short_name";
    .
map:Country_full_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Country;
    d2rq:property dc:title;
    d2rq:column "utils_country.full_name";
    .

###########################################################################

# Table utils_geographicalscope
map:GeographicalScope a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "geographical_scope/@@utils_geographicalscope.slug@@";
    d2rq:class swrcfe:GeographicalScope;
    d2rq:classDefinitionLabel "utils_geographicalscope";
    .
map:GeographicalScope__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:GeographicalScope;
    d2rq:property rdfs:label;
    d2rq:column "utils_geographicalscope.name";
    .
map:GeographicalScope_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:GeographicalScope;
    d2rq:property dc:title;
    d2rq:column "utils_geographicalscope.name";
    .
map:GeographicalScope_description a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:GeographicalScope;
    d2rq:property dc:description;
    d2rq:column "utils_geographicalscope.description";
    .

###########################################################################

# Table utils_language
map:Language a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "language/@@utils_language.slug@@";
    d2rq:class swrcfe:Language;
    d2rq:classDefinitionLabel "utils_language";
    .
map:Language__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Language;
    d2rq:property rdfs:label;
    d2rq:column "utils_language.name";
    .
map:Language_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Language;
    d2rq:property dc:title;
    d2rq:column "utils_language.name";
    .

map:Language_identifier a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Language;
    d2rq:property dc:identifier;
    d2rq:column "utils_language.identifier_code";
    .

###########################################################################

# Table utils_network
map:Network a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "network/@@utils_network.slug@@";
    d2rq:class foaf:OnlineAccount;
    d2rq:classDefinitionLabel "utils_network";
    .
map:Network__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Network;
    d2rq:property rdfs:label;
    d2rq:column "utils_network.name";
    .
map:Network_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Network;
    d2rq:property dc:title;
    d2rq:column "utils_network.name";
    .
map:Network_base_url a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Network;
    d2rq:property foaf:accountServiceHomepage;
    d2rq:column "utils_network.base_url";
    .
map:Network_icon a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Network;
    d2rq:property foaf:depiction;
    d2rq:uriPattern "http://www.morelab.deusto.es/labman/media/@@utils_network.icon@@";
    .

###########################################################################

# Table utils_phdprogram
#map:PhDProgram a d2rq:ClassMap;
#    d2rq:dataStorage map:database;
#    d2rq:uriPattern "utils_phdprogram/@@utils_phdprogram.id@@";
#    d2rq:class vocab:utils_phdprogram;
#    d2rq:classDefinitionLabel "utils_phdprogram";
#    .
#map:PhDProgram__label a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property rdfs:label;
#    d2rq:pattern "utils_phdprogram #@@utils_phdprogram.id@@";
#    .
#map:PhDProgram_name a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_name;
#    d2rq:propertyDefinitionLabel "utils_phdprogram name";
#    d2rq:column "utils_phdprogram.name";
#    .
#map:PhDProgram_homepage a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_homepage;
#    d2rq:propertyDefinitionLabel "utils_phdprogram homepage";
#    d2rq:column "utils_phdprogram.homepage";
#    .
#map:PhDProgram_start_date a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_start_date;
#    d2rq:propertyDefinitionLabel "utils_phdprogram start_date";
#    d2rq:column "utils_phdprogram.start_date";
#    d2rq:datatype xsd:date;
#    .
#map:PhDProgram_end_date a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_end_date;
#    d2rq:propertyDefinitionLabel "utils_phdprogram end_date";
#    d2rq:column "utils_phdprogram.end_date";
#    d2rq:datatype xsd:date;
#    .
#map:PhDProgram_faculty_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_faculty_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "utils_phdprogram.faculty_id => organizations_organization.id";
#    .
#map:PhDProgram_university_id__ref a d2rq:PropertyBridge;
#    d2rq:belongsToClassMap map:PhDProgram;
#    d2rq:property vocab:utils_phdprogram_university_id;
#    d2rq:refersToClassMap map:Organization;
#    d2rq:join "utils_phdprogram.university_id => organizations_organization.id";
#    .

###########################################################################

# Table utils_tag
map:Tag a d2rq:ClassMap;
    d2rq:dataStorage map:database;
    d2rq:uriPattern "tags/@@utils_tag.slug@@";
    d2rq:class muto:Tag;
    d2rq:classDefinitionLabel "utils_tag";
    .
map:Tag__label a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Tag;
    d2rq:property rdfs:label;
    d2rq:pattern "@@utils_tag.name@@";
    .
map:Tag_name a d2rq:PropertyBridge;
    d2rq:belongsToClassMap map:Tag;
    d2rq:property muto:tagLabel;
    d2rq:column "utils_tag.name";
    .
